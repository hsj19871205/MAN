{"version":3,"sources":["webpack:///src/views/statistics/phone-statistics.vue","webpack:///./src/views/statistics/phone-statistics.vue?d230","webpack:///./src/views/statistics/phone-statistics.vue"],"names":["phone_statistics","data","time","activeNames","countNum","free","online","expire","fault","start","groupControl","phoneNumType","index","list","id","value","phoneNumCount","currentPage","totalNum","pageSize","tableData","allList","isStart","mounted","this","publicDataList","tableListFun","height","document","querySelector","offsetHeight","style","marginTop","methods","handleCurrentChange","val","handleSizeChange","changeDate","msg","date1","Date","date2","getTime","phoneNumTypeChange","phoneStartChart","_this","params","Object","startCreateTime","endCreateTime","statictics","then","res","code","numChartFun","reduce","a","b","catch","error","console","log","myChart","$echarts","init","getElementById","option","grid","top","left","right","bottom","containLabel","tooltip","trigger","xAxis","type","yAxis","axisLine","show","axisTick","splitLine","lineStyle","series","name","itemStyle","normal","color","setOption","resizeDiv","resize","on","exportData","blob","Blob","downloadElement","createElement","href","window","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","_this2","total_number","handleChange","length","phoneNumCountChange","components","DateSearch","Pagination","statistics_phone_statistics","render","_vm","_h","$createElement","_c","_self","staticClass","func","_v","attrs","span","_s","_l","item","key","class","$event","change","model","callback","$$v","expression","title","ref","staticStyle","width","prop","label","scopedSlots","_u","fn","scope","row","create_time","slice","total","isTool","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.4f80bc0a2c6e9b129075.js","sourcesContent":["<template>\r\n    <div class=\"maxBox\">\r\n        <DateSearch @func=\"changeDate\"></DateSearch>\r\n        <div class=\"number\">\r\n            <el-row>\r\n            <el-col :span=\"4\"><div class=\"grid-content \">\r\n                <p>空闲云机数</p>\r\n                <span>{{countNum.free}}</span></div>\r\n            </el-col>\r\n            <el-col :span=\"4\"><div class=\"grid-content \">\r\n                <p>在线云机数</p>\r\n                <span>{{countNum.online}}</span></div>\r\n            </el-col>\r\n            <el-col :span=\"4\"><div class=\"grid-content \">\r\n                <p>到期云机数</p>\r\n                <span>{{countNum.expire}}</span></div>\r\n            </el-col>\r\n            <el-col :span=\"4\"><div class=\"grid-content \">\r\n                <p>故障云机数</p>\r\n                <span>{{countNum.fault}}</span></div>\r\n            </el-col>\r\n            <el-col :span=\"4\"><div class=\"grid-content \">\r\n                <p>启动云机数</p>\r\n                <span>{{countNum.start}}</span></div>\r\n            </el-col>\r\n            <el-col :span=\"4\"><div class=\"grid-content \">\r\n                <p>群控云机数</p>\r\n                <span>{{countNum.groupControl}}</span></div>\r\n            </el-col>\r\n            </el-row>\r\n        </div>\r\n        <div class=\"phoneStatus\">\r\n           <div class=\"list\"> \r\n              <span v-for=\"(item, index) in phoneNumType.list\" :key=\"item.id\" @click=\"phoneNumTypeChange(index,item)\" :class=\"phoneNumType.index == index ? 'select': ''\">       \r\n                {{ item.value }}    \r\n                 </span> \r\n            </div>\r\n            <div id=\"statusChart\">\r\n                 \r\n            </div>\r\n        </div>\r\n        <div class=\"infoTable\">\r\n            <span class=\"outTable\"  @click=\"exportData\">导出</span>\r\n             <el-collapse v-model=\"activeNames\" @change=\"handleChange\" >\r\n                <el-collapse-item title=\"收起明细数据\" name=\"1\">\r\n                    <div class=\"contentTab\" ref=\"contentTab\">\r\n                         <el-table :data=\"tableData\" style=\"width: 100%\">\r\n                            <el-table-column\r\n                                prop=\"create_time\"\r\n                                label=\"日期\"\r\n                                width=\"180\">\r\n                                 <template slot-scope=\"scope\">\r\n                                   <span>{{scope.row.create_time.slice(0,10)}}</span>\r\n                                  </template>\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                prop=\"not_assigned_device_count\"\r\n                                label=\"空闲云机数\"\r\n                                width=\"180\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                prop=\"assigned_device_count\"\r\n                                label=\"在线云机数\">\r\n                            </el-table-column>\r\n                              <el-table-column\r\n                                prop=\"expired_device_count\"\r\n                                label=\"到期云机数\">\r\n                            </el-table-column>\r\n                              <el-table-column\r\n                                prop=\"error_device_count\"\r\n                                label=\"故障云机数\">\r\n                            </el-table-column>\r\n                              <el-table-column\r\n                                prop=\"connected_device_count\"\r\n                                label=\"启动云机数\">\r\n                            </el-table-column>\r\n                              <el-table-column\r\n                                prop=\"group_control_device_count\"\r\n                                label=\"群控云机数\">\r\n                            </el-table-column>\r\n                            \r\n                        </el-table>\r\n                       <Pagination\r\n                        @handleCurrentChange=\"handleCurrentChange\"\r\n                        @handleSizeChange=\"handleSizeChange\"\r\n                        :total=\"totalNum\"\r\n                        :currentPage=\"currentPage\"\r\n                        :isTool='false'\r\n                        />\r\n                    </div>\r\n                </el-collapse-item>\r\n                </el-collapse>\r\n        </div>\r\n        <div class=\"addChart\">\r\n            <div class=\"list\"> \r\n               <span v-for=\"(item, index) in phoneNumCount.list\" :key=\"item.id\" @click=\"phoneNumCountChange(index,item)\" :class=\"phoneNumCount.index == index ? 'select': ''\">       \r\n                {{ item.value }}    \r\n                 </span>\r\n            </div>\r\n            <div id=\"numChart\">\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport DateSearch from './components/DateSearch'\r\nimport { EleResize} from \"../../utils/resize\";\r\nimport Pagination from '../../components/Pagination'\r\nimport { getPhoneDetail,getPhoneExport,getPhoneDetailChart} from '../../api/statictics';\r\nexport default {\r\n    data() {\r\n        return {\r\n        time: '',\r\n        activeNames: ['1'],\r\n        countNum:{\r\n            free:0,\r\n            online:0,\r\n            expire:0,\r\n            fault:0,\r\n            start:0,\r\n            groupControl:0,\r\n        },\r\n        phoneNumType:{\r\n            index:0,\r\n            list:[{\r\n                     id:'0',\r\n                     value:'空闲云机数'\r\n                 },{\r\n                     id:'1',\r\n                     value:'在线云机数'\r\n                 },{\r\n                     id:'2',\r\n                     value:'到期云机数'\r\n                 },\r\n                  {\r\n                     id:'3',\r\n                     value:'故障云机数'\r\n                 }, {\r\n                     id:'4',\r\n                     value:'启动云机数'\r\n                 }, {\r\n                     id:'5',\r\n                     value:'群控云机数'\r\n                 }]\r\n        },\r\n        phoneNumCount:{\r\n           index:0,\r\n            list:[{\r\n                     id:'0',\r\n                     value:'新增云机数'\r\n                 },{\r\n                     id:'1',\r\n                     value:'续费云机数'\r\n                 }]\r\n        },\r\n        currentPage: 1,\r\n        totalNum: 0,\r\n        pageSize: 6,\r\n        tableData: [],\r\n        allList:[],\r\n        isStart:false,//判断首次是否通过日期监听\r\n        };\r\n    },\r\n    mounted(){\r\n      this.publicDataList();\r\n      this.tableListFun();\r\n      let height = document.querySelector(\".contentTab\").offsetHeight;\r\n      document.querySelector(\".addChart\").style.marginTop = height;\r\n    },\r\n    methods:{\r\n       handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n            this.tableListFun();\r\n        },\r\n       handleSizeChange(val) {\r\n            this.pageSize = val;\r\n            this.tableListFun();\r\n        },\r\n       /**\r\n       * 日期返回值\r\n       */\r\n      changeDate(msg){\r\n        let val = msg;\r\n        let date1 = new Date(val[0]);\r\n        let date2 = new Date(val[1]);\r\n        this.time = [date1.getTime(),date2.getTime()];\r\n        if(this.isStart){\r\n            this.tableListFun();\r\n            this.publicDataList();\r\n        }else{\r\n          this.isStart = !this.isStart;\r\n        }\r\n      },\r\n        \r\n       /**\r\n       * 云机状态数切换\r\n       */\r\n      phoneNumTypeChange(index){\r\n         this.phoneNumType.index = index;\r\n         this.phoneStartChart(this.allList[index]);\r\n      },\r\n\r\n      /**\r\n       * 通用数据集合\r\n       */\r\n      publicDataList (){\r\n        let params = new Object();\r\n             params.startCreateTime = this.time[0];\r\n             params.endCreateTime = this.time[1];\r\n             getPhoneDetailChart(params)\r\n            .then(res => {\r\n                if (res.code == 200) {\r\n                   this.allList = res.data;\r\n                   this.phoneStartChart(this.allList[0]);\r\n                   this.numChartFun(this.allList[6])\r\n                this.countNum.free = this.allList[0].data.reduce((a,b)=>a+b);\r\n                this.countNum.online = this.allList[1].data.reduce((a,b)=>a+b);\r\n                this.countNum.expire = this.allList[2].data.reduce((a,b)=>a+b);\r\n                this.countNum.fault = this.allList[3].data.reduce((a,b)=>a+b);\r\n                this.countNum.start = this.allList[4].data.reduce((a,b)=>a+b);\r\n                this.countNum.groupControl = this.allList[5].data.reduce((a,b)=>a+b);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            });\r\n      },\r\n        /**\r\n         * 云机状态数量\r\n         */\r\n        phoneStartChart (list){\r\n            let myChart = this.$echarts.init(document.getElementById('statusChart'));\r\n            let option = {\r\n                  grid:{\r\n                     top:'5%',\r\n                     left:'1%',\r\n                     right:'2%',\r\n                     bottom:'8%',\r\n                     containLabel:true\r\n                    },\r\n                    tooltip: {\r\n                     trigger: 'axis'\r\n                    },\r\n                    xAxis: {\r\n                        type: 'category',\r\n                        data: list.time,\r\n                    },\r\n                    yAxis: {\r\n                        type: 'value',\r\n                        axisLine:{    \r\n                          show:false\r\n                        },\r\n                        axisTick:{    \r\n                           show:false\r\n                        },\r\n                        splitLine: { \r\n                            lineStyle:{\r\n                              type:'dashed'\r\n                        }\r\n                            }                                     \r\n                    },\r\n                    series: [{\r\n                        name: \"云机数\", \r\n                        data:list.data,\r\n                        type: 'line',\r\n                        itemStyle : {  \r\n                                normal : {  \r\n                                    color:'#409eff',  \r\n                                    lineStyle:{  \r\n                                        color:'#409eff'  \r\n                                    }  \r\n                                }  \r\n                            },  \r\n                    }]\r\n                };\r\n             myChart.setOption(option);\r\n            let resizeDiv = document.getElementById('statusChart')\r\n            let listener  =function(){\r\n              myChart.resize();\r\n            }\r\n\t     \t    EleResize.on(resizeDiv,listener);\r\n                  \r\n        },\r\n        /**\r\n         * 表格数据导出\r\n         */\r\n        exportData(){\r\n          let params = new Object();\r\n              params.startCreateTime = this.time[0];\r\n              params.endCreateTime = this.time[1];\r\n            getPhoneExport(params).then(res => {\r\n                let blob = new Blob([res], {type: 'application/vnd.openxmlformats-  officedocument.spreadsheetml.sheet;charset=utf-8'}); //type这里表示xlsx类型\r\n                let downloadElement = document.createElement('a');\r\n                let href = window.URL.createObjectURL(blob); //创建下载的链接\r\n            　　downloadElement.href = href;\r\n            　　downloadElement.download = '云机类型数据总数.xlsx'; //下载后文件名\r\n            　　document.body.appendChild(downloadElement);\r\n            　　downloadElement.click(); //点击下载\r\n            　　document.body.removeChild(downloadElement); //下载完成移除元素\r\n            　　window.URL.revokeObjectURL(href); //释放掉blob对象 \r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            });\r\n         \r\n        },\r\n         /**\r\n         * 表格数据\r\n         */\r\n        tableListFun(){\r\n            let params = new Object();\r\n             params.startCreateTime = this.time[0];\r\n             params.endCreateTime = this.time[1];\r\n             params.currentPage = this.currentPage\r\n             params.pageSize =  this.pageSize;\r\n            getPhoneDetail(params)\r\n            .then(res => {\r\n                if (res.code == 200) {\r\n                   this.tableData =res.data.list;\r\n                   this.totalNum = res.data.total_number;    \r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            });\r\n        },\r\n        /**\r\n         * 收起明细数据折叠\r\n         */\r\n        handleChange(val) {\r\n          let height  ='';\r\n            if(val.length>0){\r\n              document.querySelector(\".addChart\").style.marginTop = height;\r\n            }else{\r\n              document.querySelector(\".addChart\").style.marginTop ='15px';\r\n              height = document.querySelector(\".contentTab\").offsetHeight;\r\n            }\r\n        },\r\n        /**\r\n         * 新增、续费云机切换\r\n         */\r\n        phoneNumCountChange(index){\r\n          this.phoneNumCount.index = index;\r\n          this.numChartFun(this.allList[index+6]);\r\n        },\r\n        /**\r\n         *新增，续费云机\r\n         */\r\n        numChartFun (list){\r\n            let myChart = this.$echarts.init(document.getElementById('numChart'));\r\n            let option = {\r\n                    grid:{\r\n                     top:'8%',\r\n                     left:'2%',\r\n                     right:'2%',\r\n                     bottom:'18%',\r\n                     containLabel:true\r\n                    },\r\n                    tooltip: {\r\n                     trigger: 'axis'\r\n                    },\r\n                    xAxis: {\r\n                        type: 'category',\r\n                        data: list.time,\r\n                    },\r\n                    yAxis: {\r\n                        type: 'value',\r\n                        axisLine:{    \r\n                          show:false\r\n                        },\r\n                        axisTick:{    \r\n                           show:false\r\n                        },\r\n                        splitLine: { \r\n                            lineStyle:{\r\n                              type:'dashed'\r\n                        }\r\n                            }                                     \r\n                    },\r\n                    series: [{\r\n                        name: \"云机数\",\r\n                        data: list.data,\r\n                        type: 'line',\r\n                        itemStyle : {  \r\n                                normal : {  \r\n                                    color:'#409eff',  \r\n                                    lineStyle:{  \r\n                                        color:'#409eff'  \r\n                                    }  \r\n                                }  \r\n                            },  \r\n                    }]\r\n                };\r\n             myChart.setOption(option);\r\n              let resizeDiv = document.getElementById('numChart')\r\n              let listener  =function(){\r\n              myChart.resize();\r\n            }\r\n\t     \t    EleResize.on(resizeDiv,listener);\r\n        },\r\n    },\r\n     components:{\r\n          DateSearch,\r\n          Pagination\r\n        }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"index.less\";\r\n.null-box{\r\n margin-top: 15px;\r\n}\r\n.number{\r\n  width: 100%;\r\n  height: 180px;\r\n  .grid-content{\r\n    border: 1px solid #ccc;\r\n    p{\r\n        text-align: center;\r\n        font-size: 20px;\r\n    }\r\n    span{\r\n        display: block;\r\n        text-align: center;\r\n        font-size: 40px;\r\n    }\r\n}\r\n}\r\n.phoneStatus{\r\n  width: 100%;\r\n  height: 350px; \r\n  border: 1px solid #ccc;\r\n  margin-top: -35px;\r\n    .list{\r\n     padding: 15px 0px 0px 15px;\r\n     display: flex;\r\n     span{\r\n         padding-right: 10px;\r\n         cursor: pointer;\r\n         border: 1px solid #ccc;\r\n        // margin: -5px;\r\n        padding: 10px 15px;\r\n        font-size: 14px;\r\n        border-right: 0px;\r\n     }\r\n     span:last-child{\r\n           border-right: 1px solid #ccc;\r\n     }\r\n     .select{\r\n        color: #409EFF;\r\n\r\n     }\r\n }\r\n #statusChart {\r\n     height: 80%;\r\n }\r\n}\r\n.infoTable{\r\n  width: 100%;\r\n  height: 70px; \r\n  border: 1px solid #ccc;\r\n  border-top: none;\r\n  border-bottom: none;\r\n  .outTable{\r\n    position: relative;\r\n    left: 97%;\r\n    top: 50%;\r\n    color: #409EFF;\r\n  }\r\n   .el-collapse-item{\r\n         margin-left: 20px;\r\n        /deep/ .el-collapse-item__header{\r\n            color: #409EFF;\r\n            width:130px;\r\n            font-size: 16px;\r\n         }\r\n        \r\n     }\r\n     /deep/ .el-pagination{\r\n       text-align: right;\r\n       margin-top: 15px;\r\n     }  \r\n}\r\n.list{\r\n     padding: 15px 0px 0px 15px;\r\n     span{\r\n         padding-right: 10px;\r\n         cursor: pointer;\r\n     }\r\n     .select{\r\n        color: #409EFF;\r\n\r\n     }\r\n }\r\n.addChart{\r\n  width: 100%;\r\n  height: 350px; \r\n  border: 1px solid #ccc;\r\n  margin-top: 425px;\r\n  margin-bottom: 15px;\r\n  #numChart{\r\n      height: 100%;\r\n      width: 100%;\r\n  }\r\n}\r\n.outTable{\r\n  cursor: pointer;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/statistics/phone-statistics.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"maxBox\"},[_c('DateSearch',{on:{\"func\":_vm.changeDate}}),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content \"},[_c('p',[_vm._v(\"空闲云机数\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.countNum.free))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content \"},[_c('p',[_vm._v(\"在线云机数\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.countNum.online))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content \"},[_c('p',[_vm._v(\"到期云机数\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.countNum.expire))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content \"},[_c('p',[_vm._v(\"故障云机数\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.countNum.fault))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content \"},[_c('p',[_vm._v(\"启动云机数\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.countNum.start))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content \"},[_c('p',[_vm._v(\"群控云机数\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.countNum.groupControl))])])])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"phoneStatus\"},[_c('div',{staticClass:\"list\"},_vm._l((_vm.phoneNumType.list),function(item,index){return _c('span',{key:item.id,class:_vm.phoneNumType.index == index ? 'select': '',on:{\"click\":function($event){return _vm.phoneNumTypeChange(index,item)}}},[_vm._v(\"       \\n            \"+_vm._s(item.value)+\"    \\n             \")])}),0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"statusChart\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"infoTable\"},[_c('span',{staticClass:\"outTable\",on:{\"click\":_vm.exportData}},[_vm._v(\"导出\")]),_vm._v(\" \"),_c('el-collapse',{on:{\"change\":_vm.handleChange},model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{attrs:{\"title\":\"收起明细数据\",\"name\":\"1\"}},[_c('div',{ref:\"contentTab\",staticClass:\"contentTab\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":\"日期\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.create_time.slice(0,10)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"not_assigned_device_count\",\"label\":\"空闲云机数\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"assigned_device_count\",\"label\":\"在线云机数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"expired_device_count\",\"label\":\"到期云机数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"error_device_count\",\"label\":\"故障云机数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"connected_device_count\",\"label\":\"启动云机数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"group_control_device_count\",\"label\":\"群控云机数\"}})],1),_vm._v(\" \"),_c('Pagination',{attrs:{\"total\":_vm.totalNum,\"currentPage\":_vm.currentPage,\"isTool\":false},on:{\"handleCurrentChange\":_vm.handleCurrentChange,\"handleSizeChange\":_vm.handleSizeChange}})],1)])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"addChart\"},[_c('div',{staticClass:\"list\"},_vm._l((_vm.phoneNumCount.list),function(item,index){return _c('span',{key:item.id,class:_vm.phoneNumCount.index == index ? 'select': '',on:{\"click\":function($event){return _vm.phoneNumCountChange(index,item)}}},[_vm._v(\"       \\n            \"+_vm._s(item.value)+\"    \\n             \")])}),0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"numChart\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-021f64f6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/statistics/phone-statistics.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-021f64f6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./phone-statistics.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./phone-statistics.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./phone-statistics.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-021f64f6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./phone-statistics.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-021f64f6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/statistics/phone-statistics.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}