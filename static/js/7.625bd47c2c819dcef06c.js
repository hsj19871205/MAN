webpackJsonp([7],{ApXP:function(e,t){},Bqu2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("yJFt"),n=a("0BaK"),i=a("kVYb"),l=a("1onU"),r={data:function(){return{time:"",type:!0,channel:"",activeNames:["1"],userType:{index:0,user:"new",list:[{id:"0",name:"new",value:"新增用户"},{id:"1",name:"active",value:"活跃用户"},{id:"2",name:"retained",value:"次日留存"},{id:"3",name:"paid",value:"付费用户"},{id:"4",name:"cumulative",value:"累计用户"}]},tableData:[],currentPage:1,totalNum:0,pageSize:6,userAllData:{new_user:{grow:"",rise:"",value:""},active_user:{grow:"",rise:"",value:""},retained:{grow:"",rise:"",value:""},paid_user:{grow:"",rise:"",value:""},cumulative:{grow:"",rise:"",value:""}},channelUserType:{index:0,user:"new",list:[{id:"0",name:"new",value:"新增用户"},{id:"2",name:"paid",value:"付费用户"}]},isStart:!1}},mounted:function(){this.userCount(),this.userCountChart(),this.tableListFun(),this.channelAnalysis();var e=document.querySelector(".contentTab").offsetHeight;document.querySelector(".channel").style.marginTop=e},methods:{selectVal:function(e){this.channel=e,this.userCount(),this.userCountChart(),this.tableListFun(),this.channelAnalysis()},changeDate:function(e){this.time=e,this.isStart?(this.userCountChart(),this.tableListFun(),this.channelAnalysis()):this.isStart=!this.isStart},handleCurrentChange:function(e){this.currentPage=e,this.tableListFun()},handleSizeChange:function(e){this.pageSize=e,this.tableListFun()},userCount:function(){var e=this,t=new Object;t.format="yesterday",t.channel=this.channel,Object(i.m)(t).then(function(t){200==t.code&&(e.userAllData=t.data)}).catch(function(e){console.log(e)})},userTypeChange:function(e,t){this.userType.index=e,this.userType.user=t.name,this.userCountChart()},channelUserTypeChange:function(e,t){this.channelUserType.index=e,this.channelUserType.user=t.name,this.channelAnalysis()},userCountChart:function(){var e=this,t=new Object;t.format="line",t.channel=this.channel,t.item=this.userType.user,t.firstDay=this.time[0],t.lastDay=this.time[1],Object(i.m)(t).then(function(t){if(200==t.code){var a=e.$echarts.init(document.getElementById("statusChart")),s={grid:{top:"5%",left:"1%",right:"2%",bottom:"8%",containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:t.data.time},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed"}}},series:[{name:"用户人数",data:t.data.value,type:"line",itemStyle:{normal:{color:"#409eff",lineStyle:{color:"#409eff"}}}}]};a.setOption(s);var i=document.getElementById("statusChart");n.a.on(i,function(){a.resize()})}}).catch(function(e){console.log(e)})},exportData:function(){var e=new Object;e.channel=this.channel,e.firstDay=this.time[0],e.lastDay=this.time[1],Object(i.a)(e).then(function(e){}).catch(function(e){console.log(e)})},tableListFun:function(){var e=this,t=new Object;t.format="table",t.channel=this.channel,t.firstDay=this.time[0],t.lastDay=this.time[1],t.page=this.currentPage,t.pageSize=this.pageSize,Object(i.m)(t).then(function(t){200==t.code&&(e.tableData=t.data.list,e.totalNum=t.data.total_number)}).catch(function(e){console.log(e)})},handleChange:function(e){var t="";e.length>0?document.querySelector(".channel").style.marginTop=t:(document.querySelector(".channel").style.marginTop="15px",t=document.querySelector(".contentTab").offsetHeight)},channelAnalysis:function(){var e=this,t=new Object;t.format="analysis",t.channel=this.channel,t.item=this.channelUserType.user,t.firstDay=this.time[0],t.lastDay=this.time[1],Object(i.m)(t).then(function(t){if(200==t.code){var a=t.data,s=e.$echarts.init(document.getElementById("channelAnalysis")),i={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"3%",left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:{type:"value",boundaryGap:[,.01]},yAxis:{type:"category",data:["Web","PC","Android","IOS"]},series:[{name:"数据",type:"bar",barWidth:15,data:[a.web,a.pc,a.android,a.ios],itemStyle:{normal:{color:"#409eff",lineStyle:{color:"#409eff"}}}}]};s.setOption(i);var l=document.getElementById("channelAnalysis");n.a.on(l,function(){s.resize()})}}).catch(function(e){console.log(e)})}},components:{DateSearch:s.a,Pagination:l.a}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"maxBox"},[a("DateSearch",{attrs:{search:e.type},on:{func:e.changeDate,selectVal:e.selectVal}}),e._v(" "),a("div",{staticClass:"number"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content "},[a("p",[e._v("新增用户(昨日)")]),e._v(" "),a("span",[e._v(e._s(e.userAllData.new_user.value))]),e._v(" "),e.userAllData.new_user.rise>0?a("span",{staticClass:"goup"},[e._v("较前一日 ↑ "+e._s(e.userAllData.new_user.grow)+" ")]):e.userAllData.new_user.rise<0?a("span",{staticClass:"decline"},[e._v("较前一日 ↓ "+e._s(e.userAllData.new_user.grow)+" ")]):a("span",{staticClass:"just"},[e._v("较前一日 → "+e._s(e.userAllData.new_user.grow)+" ")])])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content "},[a("p",[e._v("活跃用户(昨日)")]),e._v(" "),a("span",[e._v(e._s(e.userAllData.active_user.value))]),e._v(" "),e.userAllData.active_user.rise>0?a("span",{staticClass:"goup"},[e._v("较前一日 ↑ "+e._s(e.userAllData.active_user.grow)+" ")]):e.userAllData.active_user.rise<0?a("span",{staticClass:"decline"},[e._v("较前一日 ↓ "+e._s(e.userAllData.active_user.grow)+" ")]):a("span",{staticClass:"just"},[e._v("较前一日 → "+e._s(e.userAllData.active_user.grow)+" ")])])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content "},[a("p",[e._v("次日留存(昨日)")]),e._v(" "),a("span",[e._v(e._s(e.userAllData.retained.value))]),e._v(" "),e.userAllData.retained.rise>0?a("span",{staticClass:"goup"},[e._v("较前一日 ↑ "+e._s(e.userAllData.retained.grow)+" ")]):e.userAllData.retained.rise<0?a("span",{staticClass:"decline"},[e._v("较前一日 ↓ "+e._s(e.userAllData.retained.grow)+" ")]):a("span",{staticClass:"just"},[e._v("较前一日 → "+e._s(e.userAllData.retained.grow)+" ")])])]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content "},[a("p",[e._v("付费用户(昨日)")]),e._v(" "),a("span",[e._v(e._s(e.userAllData.paid_user.value))]),e._v(" "),e.userAllData.paid_user.rise>0?a("span",{staticClass:"goup"},[e._v("较前一日 ↑ "+e._s(e.userAllData.paid_user.grow)+" ")]):e.userAllData.paid_user.rise<0?a("span",{staticClass:"decline"},[e._v("较前一日 ↓ "+e._s(e.userAllData.paid_user.grow)+" ")]):a("span",{staticClass:"just"},[e._v("较前一日 → "+e._s(e.userAllData.paid_user.grow)+" ")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content "},[a("p",[e._v("累计用户")]),e._v(" "),a("span",[e._v(e._s(e.userAllData.cumulative.value))]),e._v(" "),e.userAllData.cumulative.rise>0?a("span",{staticClass:"goup"},[e._v("较前一日 ↑ "+e._s(e.userAllData.cumulative.grow)+" ")]):e.userAllData.cumulative.rise<0?a("span",{staticClass:"decline"},[e._v("较前一日 ↓ "+e._s(e.userAllData.cumulative.grow)+" ")]):a("span",{staticClass:"just"},[e._v("较前一日 → "+e._s(e.userAllData.cumulative.grow)+" ")])])])],1)],1),e._v(" "),a("div",{staticClass:"phoneStatus"},[a("div",{staticClass:"list"},e._l(e.userType.list,function(t,s){return a("span",{key:t.id,class:e.userType.index==s?"select":"",on:{click:function(a){return e.userTypeChange(s,t)}}},[e._v("       \n            "+e._s(t.value)+"    \n             ")])}),0),e._v(" "),a("div",{attrs:{id:"statusChart"}})]),e._v(" "),a("div",{staticClass:"infoTable"},[a("span",{staticClass:"outTable",on:{click:e.exportData}},[e._v("导出")]),e._v(" "),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"收起明细数据",name:"1"}},[a("div",{ref:"contentTab",staticClass:"contentTab"},[a("el-table",{staticStyle:{width:"100%",marginLeft:"-20px"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"time",label:"日期",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"new_user",label:"新增用户",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"active_user",label:"活跃用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"retained",label:"次日留存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"paid_user",label:"付费用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cumulative",label:"累计用户"}})],1),e._v(" "),a("Pagination",{attrs:{total:e.totalNum,currentPage:e.currentPage,isTool:!1},on:{handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange}})],1)])],1)],1),e._v(" "),a("div",{staticClass:"box channel"},[e._m(0),e._v(" "),a("div",{staticClass:"list"},e._l(e.channelUserType.list,function(t,s){return a("span",{key:t.id,class:e.channelUserType.index==s?"select":"",on:{click:function(a){return e.channelUserTypeChange(s,t)}}},[e._v("       \n            "+e._s(t.value)+"    \n             ")])}),0),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content",attrs:{id:"channelAnalysis"}})])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"titleBar"},[t("span",[this._v("渠道分析")])])}]};var u=a("VU/8")(r,c,!1,function(e){a("ApXP")},"data-v-cd5f0e7e",null);t.default=u.exports}});
//# sourceMappingURL=7.625bd47c2c819dcef06c.js.map